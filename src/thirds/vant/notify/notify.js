"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var utils_1 = require('./../common/utils.js');
var defaultOptions = {
    selector: '#van-notify',
    duration: 3000
};
function parseOptions(text) {
    return utils_1.isObj(text) ? text : { text: text };
}
function getContext() {
    var pages = getCurrentPages();
    return pages[pages.length - 1];
}
function Notify(options) {
    options = Object.assign({}, defaultOptions, parseOptions(options));
    var context = options.context || getContext();
    var notify = context.selectComponent(options.selector);
    delete options.selector;
    if (notify) {
        notify.set(options);
        notify.show();
    } else {
        console.warn('未找到 van-notify 节点，请确认 selector 及 context 是否正确');
    }
}
exports.default = Notify;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vdGlmeS5qcyJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsInV0aWxzXzEiLCJyZXF1aXJlIiwiZGVmYXVsdE9wdGlvbnMiLCJzZWxlY3RvciIsImR1cmF0aW9uIiwicGFyc2VPcHRpb25zIiwidGV4dCIsImlzT2JqIiwiZ2V0Q29udGV4dCIsInBhZ2VzIiwiZ2V0Q3VycmVudFBhZ2VzIiwibGVuZ3RoIiwiTm90aWZ5Iiwib3B0aW9ucyIsImFzc2lnbiIsImNvbnRleHQiLCJub3RpZnkiLCJzZWxlY3RDb21wb25lbnQiLCJzZXQiLCJzaG93IiwiY29uc29sZSIsIndhcm4iLCJkZWZhdWx0Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQUEsT0FBT0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkMsRUFBRUMsT0FBTyxJQUFULEVBQTdDO0FBQ0EsSUFBSUMsVUFBVUMsUUFBUSxpQkFBUixDQUFkO0FBQ0EsSUFBSUMsaUJBQWlCO0FBQ2pCQyxjQUFVLGFBRE87QUFFakJDLGNBQVU7QUFGTyxDQUFyQjtBQUlBLFNBQVNDLFlBQVQsQ0FBc0JDLElBQXRCLEVBQTRCO0FBQ3hCLFdBQU9OLFFBQVFPLEtBQVIsQ0FBY0QsSUFBZCxJQUFzQkEsSUFBdEIsR0FBNkIsRUFBRUEsTUFBTUEsSUFBUixFQUFwQztBQUNIO0FBQ0QsU0FBU0UsVUFBVCxHQUFzQjtBQUNsQixRQUFJQyxRQUFRQyxpQkFBWjtBQUNBLFdBQU9ELE1BQU1BLE1BQU1FLE1BQU4sR0FBZSxDQUFyQixDQUFQO0FBQ0g7QUFDRCxTQUFTQyxNQUFULENBQWdCQyxPQUFoQixFQUF5QjtBQUNyQkEsY0FBVWpCLE9BQU9rQixNQUFQLENBQWMsRUFBZCxFQUFrQlosY0FBbEIsRUFBa0NHLGFBQWFRLE9BQWIsQ0FBbEMsQ0FBVjtBQUNBLFFBQUlFLFVBQVVGLFFBQVFFLE9BQVIsSUFBbUJQLFlBQWpDO0FBQ0EsUUFBSVEsU0FBU0QsUUFBUUUsZUFBUixDQUF3QkosUUFBUVYsUUFBaEMsQ0FBYjtBQUNBLFdBQU9VLFFBQVFWLFFBQWY7QUFDQSxRQUFJYSxNQUFKLEVBQVk7QUFDUkEsZUFBT0UsR0FBUCxDQUFXTCxPQUFYO0FBQ0FHLGVBQU9HLElBQVA7QUFDSCxLQUhELE1BSUs7QUFDREMsZ0JBQVFDLElBQVIsQ0FBYSwrQ0FBYjtBQUNIO0FBQ0o7QUFDRHZCLFFBQVF3QixPQUFSLEdBQWtCVixNQUFsQiIsImZpbGUiOiJub3RpZnkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi91dGlsc1wiKTtcbnZhciBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICBzZWxlY3RvcjogJyN2YW4tbm90aWZ5JyxcbiAgICBkdXJhdGlvbjogMzAwMFxufTtcbmZ1bmN0aW9uIHBhcnNlT3B0aW9ucyh0ZXh0KSB7XG4gICAgcmV0dXJuIHV0aWxzXzEuaXNPYmoodGV4dCkgPyB0ZXh0IDogeyB0ZXh0OiB0ZXh0IH07XG59XG5mdW5jdGlvbiBnZXRDb250ZXh0KCkge1xuICAgIHZhciBwYWdlcyA9IGdldEN1cnJlbnRQYWdlcygpO1xuICAgIHJldHVybiBwYWdlc1twYWdlcy5sZW5ndGggLSAxXTtcbn1cbmZ1bmN0aW9uIE5vdGlmeShvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLCBwYXJzZU9wdGlvbnMob3B0aW9ucykpO1xuICAgIHZhciBjb250ZXh0ID0gb3B0aW9ucy5jb250ZXh0IHx8IGdldENvbnRleHQoKTtcbiAgICB2YXIgbm90aWZ5ID0gY29udGV4dC5zZWxlY3RDb21wb25lbnQob3B0aW9ucy5zZWxlY3Rvcik7XG4gICAgZGVsZXRlIG9wdGlvbnMuc2VsZWN0b3I7XG4gICAgaWYgKG5vdGlmeSkge1xuICAgICAgICBub3RpZnkuc2V0KG9wdGlvbnMpO1xuICAgICAgICBub3RpZnkuc2hvdygpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKCfmnKrmib7liLAgdmFuLW5vdGlmeSDoioLngrnvvIzor7fnoa7orqQgc2VsZWN0b3Ig5Y+KIGNvbnRleHQg5piv5ZCm5q2j56GuJyk7XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gTm90aWZ5O1xuIl19